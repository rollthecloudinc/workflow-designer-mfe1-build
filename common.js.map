{"version":3,"file":"common.js","mappings":"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","sources":["./projects/mfe1/src/app/app.factories.ts","./projects/mfe1/src/app/download.component.ts","./projects/mfe1/src/app/download.module.ts","./projects/mfe1/src/app/handlers/download-content.handler.ts","./projects/mfe1/src/app/upload.component.ts","./node_modules/@rollthecloudinc/content/fesm2022/rollthecloudinc-content.mjs","./node_modules/@rollthecloudinc/plugin/fesm2022/rollthecloudinc-plugin.mjs"],"sourcesContent":["import { ContentPlugin } from '@rollthecloudinc/content';\nimport { DownloadComponent } from './download.component';\nimport { DownloadContentHandler } from './handlers/download-content.handler';\n\nexport const mfe1DownloadContentPluginFactory  = ({ handler }: { handler: DownloadContentHandler }) => {\n  return new ContentPlugin<string>({\n    id: 'mfe1_download',\n    title: 'Mfe1 Download',\n    selectionComponent: undefined,\n    editorComponent: undefined,\n    renderComponent: DownloadComponent,\n    handler\n  } as any);\n};","import { Component, OnInit } from '@angular/core';\nimport { ContentPluginManager } from '@rollthecloudinc/content';\n\n@Component({\n    selector: 'mfe1-download',\n    template: `\n        <div class=\"task\">\n            <!-- <img src=\"https://d16ooy9q113vw2.cloudfront.net/assets/download.png\"> -->\n            <img src=\"https://d8em0358gicmm.cloudfront.net/assets/download.png\">\n            <p>Download</p>\n        </div>\n    `\n})\n\nexport class DownloadComponent implements OnInit {\n    constructor(\n        private cpm: ContentPluginManager\n    ) { \n        console.log('download component constructor');\n    }\n\n    ngOnInit() { }\n}","import { NgModule } from '@angular/core';\nimport { DownloadComponent } from './download.component';\nimport { DownloadContentHandler } from './handlers/download-content.handler';\nimport { ContentPluginManager } from '@rollthecloudinc/content';\nimport { mfe1DownloadContentPluginFactory } from './app.factories';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [\n    CommonModule,\n  ],\n  declarations: [\n    DownloadComponent\n  ],\n  providers: [\n    DownloadContentHandler\n  ],\n  exports: [\n    DownloadComponent\n  ]\n})\nexport class DownloadModule { \n  constructor(\n    cpm: ContentPluginManager,\n    downloadHandler: DownloadContentHandler\n  ) {\n    console.log('register mfe1 download content plugin');\n    // @todo: lint not picking up register() because in plugin module base class.\n    cpm.register(mfe1DownloadContentPluginFactory({ handler: downloadHandler }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ContentHandler, ContentBinding, ContentPluginEditorOptions } from '@rollthecloudinc/content';\nimport { AttributeValue } from '@rollthecloudinc/attributes';\nimport { Observable, of } from 'rxjs';\n\n@Injectable()\nexport class DownloadContentHandler implements ContentHandler {\n\n  constructor() { }\n\n  handleFile(file: File): Observable<Array<AttributeValue>> {\n    return of();\n  }\n\n  handlesType(type: string): boolean {\n    return false;\n  }\n\n  implementsRendererOverride(): boolean {\n    return false;\n  }\n\n  hasRendererOverride(settings: Array<AttributeValue>): Observable<boolean> {\n    return of(false);\n  }\n\n  isDynamic(settings: Array<AttributeValue>): boolean {\n    return false;\n  }\n\n  isData(settings: Array<AttributeValue>): boolean {\n    return false;\n  }\n\n  getBindings(settings: Array<AttributeValue>, type: string, metadata?: Map<string, any>): Observable<Array<ContentBinding>> {\n    return of([]);\n  }\n\n  fetchDynamicData(settings: Array<AttributeValue>, metadata: Map<string, any>): Observable<any> {\n    return of();\n  }\n\n  buildDynamicItems(settings: Array<AttributeValue>, metadata: Map<string, any>): Observable<Array<AttributeValue>> {\n    return of([]);\n  }\n\n  stateDefinition(settings: Array<AttributeValue>): Observable<any> {\n    return of({});\n  }\n\n  editorOptions(settings: Array<AttributeValue>): Observable<ContentPluginEditorOptions> {\n    return of(new ContentPluginEditorOptions({ fullscreen: true }));\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'mfe1-upload',\n    template: `\n        <div class=\"task\">\n            <!-- <img src=\"https://d16ooy9q113vw2.cloudfront.net/assets/upload.png\"> -->\n            <img src=\"https://d8em0358gicmm.cloudfront.net/assets/upload.png\">\n            <p>Upload</p>\n        </div>\n    `\n})\n\nexport class UploadComponent implements OnInit {\n    constructor() { }\n\n    ngOnInit() { }\n}","import * as i0 from '@angular/core';\nimport { NgModule, InjectionToken, Injectable } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AttributeValue } from '@rollthecloudinc/attributes';\nimport * as i1 from '@rollthecloudinc/plugin';\nimport { Plugin, BasePluginManager, PluginDef } from '@rollthecloudinc/plugin';\nimport { of } from 'rxjs';\nimport * as i2 from '@rollthecloudinc/utils';\n\n/*import { defaultPluginManagerFactory, pluginManagerToken } from '@rollthecloudinc/plugin';\nimport { ContentPlugin, ContentPluginDef } from './models/content.models';\nimport { ContentPluginManager } from './services/content-plugin-manager.service';*/\nclass ContentModule {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ContentModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.4\", ngImport: i0, type: ContentModule, imports: [CommonModule] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ContentModule, imports: [CommonModule] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ContentModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule]\n                }]\n        }] });\n\nclass ContentPlugin extends Plugin {\n    constructor(data) {\n        super(data);\n        this.fileTypes = [];\n        if (data) {\n            this.name = this.id;\n            this.handler = data.handler !== undefined ? data.handler : undefined;\n            this.selectionComponent = data.selectionComponent ? data.selectionComponent : undefined;\n            this.renderComponent = data.renderComponent ? data.renderComponent : undefined;\n            this.editorComponent = data.editorComponent ? data.editorComponent : undefined;\n        }\n    }\n}\nclass ContentBinding {\n    constructor(data) {\n        if (data) {\n            this.type = data.type;\n            this.id = data.id;\n        }\n    }\n}\nclass ContentInstance {\n    constructor(data) {\n        this.settings = [];\n        if (data) {\n            this.pluginName = data.pluginName;\n            if (data.settings) {\n                this.settings = data.settings.map(s => new AttributeValue(s));\n            }\n        }\n    }\n}\n/*export class Snippet {\n  content: string;\n  contentType: string;\n  jsFile?: string;\n  jsScript?: string;\n  constructor(data?: Snippet) {\n    if(data) {\n      this.content = data.content;\n      this.contentType = data.contentType;\n      if (data.jsFile && data.jsFile !== '') {\n        this.jsFile = data.jsFile;\n      }\n      if (data.jsScript && data.jsScript !== '') {\n        this.jsScript = data.jsScript;\n      }\n    }\n  }\n}*/\nclass ContentPluginEditorOptions {\n    constructor(data) {\n        this.fullscreen = false;\n        if (data) {\n            this.fullscreen = data.fullscreen;\n        }\n    }\n}\n\nconst CONTENT_PLUGIN = new InjectionToken('ContentPlugin');\n\nclass ContentPluginManager extends BasePluginManager {\n    constructor(pcm, moduleLoader) {\n        super(pcm, moduleLoader);\n    }\n    pluginDef() {\n        return of(new PluginDef({ name: 'content' }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ContentPluginManager, deps: [{ token: i1.PluginConfigurationManager }, { token: i2.ModuleLoaderService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ContentPluginManager, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ContentPluginManager, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.PluginConfigurationManager }, { type: i2.ModuleLoaderService }]; } });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CONTENT_PLUGIN, ContentBinding, ContentInstance, ContentModule, ContentPlugin, ContentPluginEditorOptions, ContentPluginManager };\n","import * as i0 from '@angular/core';\nimport { NgModule, Injectable } from '@angular/core';\nimport * as i2 from '@rollthecloudinc/utils';\nimport { UtilsModule } from '@rollthecloudinc/utils';\nimport { of, forkJoin } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\n\nclass PluginModule {\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: PluginModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.4\", ngImport: i0, type: PluginModule, imports: [UtilsModule] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: PluginModule, imports: [UtilsModule] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: PluginModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [],\n                    imports: [\n                        UtilsModule\n                    ],\n                    exports: []\n                }]\n        }] });\n\nclass PluginConfigurationManager {\n    constructor() {\n        this.configs = [];\n    }\n    addConfig(cfg) {\n        this.configs.push(cfg);\n    }\n    getConfigs() {\n        return this.configs;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: PluginConfigurationManager, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: PluginConfigurationManager, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: PluginConfigurationManager, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass ConfigDiscovery {\n    constructor(pcm, moduleLoader) {\n        this.pcm = pcm;\n        this.moduleLoader = moduleLoader;\n    }\n    loadPlugins(pluginDef, ids = []) {\n        const configs = this.pcm.getConfigs();\n        const len = configs.length;\n        const loadModules$ = [];\n        for (let i = 0; i < len; i++) {\n            const len2 = configs[i].modules.length;\n            for (let j = 0; j < len2; j++) {\n                if (configs[i].modules[j].plugins.has(pluginDef.name) &&\n                    (ids.length === 0 ||\n                        ids.some(id => configs[i].modules[j].plugins.get(pluginDef.name).findIndex(p => p === id) > -1))) {\n                    loadModules$.push(this.moduleLoader.loadModule(configs[i].modules[j].module));\n                }\n            }\n        }\n        if (loadModules$.length === 0) {\n            return of(true);\n        }\n        else {\n            return forkJoin(loadModules$).pipe(map(() => true));\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ConfigDiscovery, deps: [{ token: PluginConfigurationManager }, { token: i2.ModuleLoaderService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ConfigDiscovery, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ConfigDiscovery, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: PluginConfigurationManager }, { type: i2.ModuleLoaderService }]; } });\n\n// import { Injectable } from '@angular/core';\n// @Injectable()\nclass BasePluginManager {\n    constructor(pcm, moduleLoader) {\n        this.pcm = pcm;\n        this.moduleLoader = moduleLoader;\n        this.pluginInstances = new Map();\n        this.discoveryPipeline = [];\n        this.discovery();\n    }\n    discovery() {\n        this.discoveryPipeline.push(new ConfigDiscovery(this.pcm, this.moduleLoader));\n    }\n    addDiscovery(d) {\n        this.discoveryPipeline.push(d);\n    }\n    register(plugin) {\n        this.pluginInstances.set(plugin.id, plugin);\n    }\n    getPlugins(ids) {\n        const newPlugins = ids ? ids.filter(id => !this.pluginInstances.has(id)) : [];\n        if (ids && newPlugins.length === 0) {\n            return of(new Map(ids.map(id => [id, this.pluginInstances.get(id)])));\n        }\n        else {\n            return this.pluginDef().pipe(switchMap(def => forkJoin(this.discoveryPipeline.map(d => d.loadPlugins(def, newPlugins))).pipe(map(() => ids ? new Map(ids.map(id => [id, this.pluginInstances.get(id)])) : this.pluginInstances))));\n        }\n    }\n    getPlugin(id) {\n        if (this.pluginInstances.has(id)) {\n            return of(this.pluginInstances.get(id));\n        }\n        else {\n            return this.pluginDef().pipe(switchMap(def => forkJoin(this.discoveryPipeline.map(d => d.loadPlugins(def, [id]))).pipe(map(() => this.pluginInstances.get(id)))));\n        }\n    }\n}\n\nclass PluginConfig {\n    constructor(data) {\n        this.modules = [];\n        if (data) {\n            if (data.modules) {\n                this.modules = data.modules.map(m => new PluginConfigModule(m));\n            }\n        }\n    }\n}\nclass Plugin {\n    constructor(data) {\n        if (data) {\n            this.id = data.id;\n            this.title = data.title;\n        }\n    }\n}\nclass PluginDef {\n    constructor(data) {\n        if (data) {\n            this.name = data.name;\n        }\n    }\n}\nclass PluginConfigModule {\n    constructor(data) {\n        if (data) {\n            this.module = data.module;\n            if (data.plugins) {\n                this.plugins = new Map([...data.plugins]);\n            }\n        }\n    }\n}\n/*export class BasePlugin implements Plugin {\n}*/\n\n/*\n * Public API Surface of plugin\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { BasePluginManager, ConfigDiscovery, Plugin, PluginConfig, PluginConfigModule, PluginConfigurationManager, PluginDef, PluginModule };\n"],"names":["ContentPlugin","DownloadComponent","mfe1DownloadContentPluginFactory","handler","id","title","selectionComponent","undefined","editorComponent","renderComponent","constructor","cpm","console","log","ngOnInit","_","i0","ɵɵdirectiveInject","i1","ContentPluginManager","_2","selectors","decls","vars","consts","template","DownloadComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","DownloadContentHandler","CommonModule","DownloadModule","downloadHandler","register","ɵɵinject","i2","_3","imports","declarations","exports","ContentPluginEditorOptions","of","handleFile","file","handlesType","type","implementsRendererOverride","hasRendererOverride","settings","isDynamic","isData","getBindings","metadata","fetchDynamicData","buildDynamicItems","stateDefinition","editorOptions","fullscreen","factory","ɵfac","UploadComponent","UploadComponent_Template","NgModule","InjectionToken","Injectable","AttributeValue","Plugin","BasePluginManager","PluginDef","ContentModule","ContentModule_Factory","t","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","ngDevMode","ɵsetClassMetadata","args","data","fileTypes","name","ContentBinding","ContentInstance","pluginName","map","s","CONTENT_PLUGIN","pcm","moduleLoader","pluginDef","ContentPluginManager_Factory","PluginConfigurationManager","ModuleLoaderService","ɵprov","ɵɵdefineInjectable","token","providedIn","UtilsModule","forkJoin","switchMap","PluginModule","PluginModule_Factory","configs","addConfig","cfg","push","getConfigs","PluginConfigurationManager_Factory","ConfigDiscovery","loadPlugins","ids","len","length","loadModules$","i","len2","modules","j","plugins","has","some","get","findIndex","p","loadModule","module","pipe","ConfigDiscovery_Factory","pluginInstances","Map","discoveryPipeline","discovery","addDiscovery","d","plugin","set","getPlugins","newPlugins","filter","def","getPlugin","PluginConfig","m","PluginConfigModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[5,6]}