{"version":3,"file":"1.js","mappings":"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","sources":["./node_modules/number-string/dist/app.js","./node_modules/@rollthecloudinc/attributes/fesm2022/rollthecloudinc-attributes.mjs"],"sourcesContent":["\"use strict\";\nexports.__esModule = true;\nexports.toClosest = exports.toMoney = exports.toClean = exports.toNumber = exports.toNumberString = void 0;\n/**\n * Escape special RegExp characters in string\n */\nfunction regexpEscape(s) {\n    return s.replace(/[-[\\]/{}()*+?.\\\\^$]/g, \"\\\\$&\");\n}\n/**\n * Convert value to number string\n */\nfunction toNumberString(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c;\n    if (typeof value === \"number\") {\n        return value.toString();\n    }\n    if (typeof value !== \"string\") {\n        return \"NaN\";\n    }\n    var regexpDecimalMark = regexpEscape(decimalMark);\n    var n = value.trim();\n    var negative = n.match(/^\\(.*\\)$|^-/); //negative if matches '(...)' or '-...'\n    var getNumberRegexp = new RegExp(\"[^\\\\d\" + regexpDecimalMark + \"]|\" + regexpDecimalMark + \"(?=.*\" + regexpDecimalMark + \")|^\\\\D*\" + regexpDecimalMark + \"\\\\D*$\", \"g\");\n    n = n.replace(getNumberRegexp, \"\").replace(decimalMark, \".\"); //remove all except digits and last dot\n    if (n === \"\") {\n        n = \"NaN\";\n    }\n    else if (negative) {\n        n = \"-\" + n;\n    }\n    return n;\n}\nexports.toNumberString = toNumberString;\n/**\n * Convert value to number\n */\nfunction toNumber(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c;\n    var s = toNumberString(value, { decimalMark: decimalMark });\n    if (s === \"NaN\") {\n        return NaN;\n    }\n    return Number(s);\n}\nexports.toNumber = toNumber;\n/**\n * Like `toFixed` but removes trailing zeros\n */\nfunction toClean(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c, _d = _b.thousandSeperator, thousandSeperator = _d === void 0 ? null : _d, _e = _b.thousandSeparator, thousandSeparator = _e === void 0 ? \",\" : _e, _f = _b.maxPrecision, maxPrecision = _f === void 0 ? 100 : _f, _g = _b.minPrecision, minPrecision = _g === void 0 ? 0 : _g;\n    if (thousandSeperator) {\n        thousandSeparator = thousandSeperator;\n        console.error(\"`thousandSeperator` is deprecated use `thousandSeparator` instead.\");\n    }\n    value = toNumberString(value);\n    if (value === \"NaN\") {\n        return \"NaN\";\n    }\n    if (maxPrecision < 0) {\n        throw new Error(\"maxPrecision must be >= 0\");\n    }\n    if (minPrecision < 0) {\n        throw new Error(\"minPrecision must be >= 0\");\n    }\n    if (maxPrecision > 100) {\n        throw new Error(\"maxPrecision must be <= 100\");\n    }\n    if (minPrecision > 100) {\n        throw new Error(\"minPrecision must be <= 100\");\n    }\n    if (minPrecision > maxPrecision) {\n        throw new Error(\"minPrecision must be <= maxPrecision\");\n    }\n    var s = value;\n    // limit to maxPrecision\n    var dotIndex = s.lastIndexOf(\".\");\n    if (dotIndex > -1) {\n        var integer = (dotIndex === 0 ? \"0\" : s.slice(0, dotIndex));\n        var fraction = s.slice(dotIndex + 1, dotIndex + 1 + maxPrecision);\n        var remainder = s.slice(dotIndex + 1 + maxPrecision);\n        if (remainder.length > 0 && +remainder[0] > 4) {\n            // round up\n            var i = (BigInt(integer + fraction) + BigInt(1)).toString(10);\n            integer = i.slice(0, i.length - fraction.length);\n            fraction = i.slice(i.length - fraction.length);\n        }\n        s = integer + decimalMark + fraction;\n    }\n    else {\n        s += decimalMark;\n    }\n    // remove trailing 0s\n    var rmLen = 0;\n    for (var i = s.length - 1; i >= 0; i--) {\n        if (s[i] !== \"0\") {\n            break;\n        }\n        rmLen++;\n    }\n    s = s.slice(0, s.length - rmLen);\n    // limit to minPrecision\n    if (minPrecision > 0) {\n        var numZeros = void 0;\n        if (dotIndex > -1) {\n            numZeros = minPrecision - (s.length - dotIndex - 1);\n        }\n        else {\n            numZeros = minPrecision;\n        }\n        for (var i = 0; i < numZeros; i++) {\n            s += \"0\";\n        }\n    }\n    var regexpDecimalMark = regexpEscape(decimalMark);\n    var thousandSeparatorRegexp = new RegExp(\"\\\\d(?=(\\\\d{3})+\" + regexpDecimalMark + \")\", \"g\");\n    var trimRegexp = new RegExp(regexpDecimalMark + \"$\");\n    s = s.replace(thousandSeparatorRegexp, \"$&\" + thousandSeparator).replace(trimRegexp, \"\");\n    return s;\n}\nexports.toClean = toClean;\n/**\n * Convert string or number to currency string\n * modified from http://stackoverflow.com/a/149099/806777\\\n */\nfunction toMoney(value, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.decimalMark, decimalMark = _c === void 0 ? \".\" : _c, _d = _b.thousandSeperator, thousandSeperator = _d === void 0 ? null : _d, _e = _b.thousandSeparator, thousandSeparator = _e === void 0 ? \",\" : _e, _f = _b.maxPrecision, maxPrecision = _f === void 0 ? 2 : _f, _g = _b.minPrecision, minPrecision = _g === void 0 ? 2 : _g, _h = _b.symbol, symbol = _h === void 0 ? \"$\" : _h, _j = _b.symbolBehind, symbolBehind = _j === void 0 ? false : _j, _k = _b.useParens, useParens = _k === void 0 ? true : _k;\n    if (thousandSeperator) {\n        thousandSeparator = thousandSeperator;\n        console.error(\"`thousandSeperator` is deprecated use `thousandSeparator` instead.\");\n    }\n    var n = (typeof value === \"number\"\n        ? value\n        : toNumber(value, {\n            decimalMark: decimalMark\n        }));\n    var s = toNumberString(value, {\n        decimalMark: decimalMark\n    });\n    if (isNaN(n)) {\n        return \"NaN\";\n    }\n    if (n === Infinity) {\n        return \"Infinity\";\n    }\n    if (n === -Infinity) {\n        return (useParens ? \"(Infinity)\" : \"-Infinity\");\n    }\n    if (maxPrecision < 2 && typeof arguments[1].minPrecision === \"undefined\") {\n        minPrecision = maxPrecision;\n    }\n    if (minPrecision > 2 && typeof arguments[1].maxPrecision === \"undefined\") {\n        maxPrecision = minPrecision;\n    }\n    var negative = n < 0;\n    s = toClean(negative ? s.slice(1) : s, {\n        decimalMark: decimalMark,\n        thousandSeparator: thousandSeparator,\n        maxPrecision: maxPrecision,\n        minPrecision: minPrecision\n    });\n    s = (symbolBehind ? s + \" \" + symbol : symbol + s);\n    if (negative) {\n        s = (useParens ? \"(\" + s + \")\" : \"-\" + s);\n    }\n    return s;\n}\nexports.toMoney = toMoney;\n/**\n * Round number to closest multiple of number\n */\nfunction toClosest(value, roundTo) {\n    if (roundTo === void 0) { roundTo = 1; }\n    if (typeof value !== \"number\") {\n        value = toNumber(value);\n    }\n    if (isNaN(value)) {\n        return NaN;\n    }\n    if (value === Infinity || value === -Infinity) {\n        return value;\n    }\n    if (typeof roundTo !== \"number\") {\n        roundTo = toNumber(roundTo);\n    }\n    if (isNaN(roundTo)) {\n        throw Error(\"roundTo must be a number\");\n    }\n    if (roundTo === Infinity || roundTo === -Infinity) {\n        return roundTo;\n    }\n    var n = Math.round(value / roundTo) * roundTo;\n    var maxPrecision = 0;\n    while (!Number.isInteger(roundTo)) {\n        roundTo *= 10;\n        maxPrecision++;\n    }\n    n = +n.toFixed(maxPrecision);\n    return n;\n}\nexports.toClosest = toClosest;\n","import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Inject, Directive, Component, Input, ViewChild, forwardRef, Pipe, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientJsonpModule } from '@angular/common/http';\nimport * as i1$1 from '@angular/forms';\nimport { UntypedFormGroup, UntypedFormArray, UntypedFormControl, Validators, NG_VALUE_ACCESSOR, NG_VALIDATORS, ReactiveFormsModule } from '@angular/forms';\nimport { MaterialModule } from '@rollthecloudinc/material';\nimport { of } from 'rxjs';\nimport * as i1 from '@rollthecloudinc/plugin';\nimport { BasePluginManager, PluginDef, Plugin } from '@rollthecloudinc/plugin';\nimport * as i2 from '@rollthecloudinc/utils';\nimport * as i2$1 from '@angular/material/legacy-form-field';\nimport * as i3$1 from '@angular/material/legacy-input';\nimport { toNumber } from 'number-string';\n\nconst ATTRIBUTE_WIDGET = new InjectionToken('AttributeWidget');\n\nclass WidgetsService {\n    constructor(widgets) {\n        this.widgets = widgets;\n    }\n    get(widget) {\n        return this.widgets.find(w => w.name === widget);\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: WidgetsService, deps: [{ token: ATTRIBUTE_WIDGET }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: WidgetsService }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: WidgetsService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: Array, decorators: [{\n                    type: Inject,\n                    args: [ATTRIBUTE_WIDGET]\n                }] }]; } });\n\nclass WidgetPluginManager extends BasePluginManager {\n    constructor(pcm, moduleLoader) {\n        super(pcm, moduleLoader);\n    }\n    pluginDef() {\n        return of(new PluginDef({ name: 'widget' }));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: WidgetPluginManager, deps: [{ token: i1.PluginConfigurationManager }, { token: i2.ModuleLoaderService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: WidgetPluginManager, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: WidgetPluginManager, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: i1.PluginConfigurationManager }, { type: i2.ModuleLoaderService }]; } });\n\nclass AttributeWidgetDirective {\n    constructor(viewContainerRef) {\n        this.viewContainerRef = viewContainerRef;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeWidgetDirective, deps: [{ token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Directive }); }\n    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"16.0.4\", type: AttributeWidgetDirective, selector: \"[classifiedsUiWidgetHost]\", ngImport: i0 }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeWidgetDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[classifiedsUiWidgetHost]'\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ViewContainerRef }]; } });\n\nclass AttributeWidgetComponent {\n    constructor(componentFactoryResolver, controlContainer) {\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.controlContainer = controlContainer;\n        this.appearance = \"legacy\";\n    }\n    ngOnInit() {\n        this.widget.subscribe(widget => {\n            const componentFactory = this.componentFactoryResolver.resolveComponentFactory(widget.component);\n            const viewContainerRef = this.widgetHost.viewContainerRef;\n            viewContainerRef.clear();\n            const componentRef = viewContainerRef.createComponent(componentFactory);\n            componentRef.instance.attribute = this.attribute;\n            componentRef.instance.appearance = this.appearance;\n        });\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeWidgetComponent, deps: [{ token: i0.ComponentFactoryResolver }, { token: i1$1.ControlContainer }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.4\", type: AttributeWidgetComponent, selector: \"classifieds-ui-attribute-widget\", inputs: { widget: \"widget\", attribute: \"attribute\", appearance: \"appearance\" }, viewQueries: [{ propertyName: \"widgetHost\", first: true, predicate: AttributeWidgetDirective, descendants: true, static: true }], ngImport: i0, template: `<ng-container [formGroup]=\"controlContainer.control\"><ng-template classifiedsUiWidgetHost></ng-template></ng-container>`, isInline: true, styles: [\"\"], dependencies: [{ kind: \"directive\", type: i1$1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1$1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: AttributeWidgetDirective, selector: \"[classifiedsUiWidgetHost]\" }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeWidgetComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'classifieds-ui-attribute-widget', template: `<ng-container [formGroup]=\"controlContainer.control\"><ng-template classifiedsUiWidgetHost></ng-template></ng-container>` }]\n        }], ctorParameters: function () { return [{ type: i0.ComponentFactoryResolver }, { type: i1$1.ControlContainer }]; }, propDecorators: { widget: [{\n                type: Input\n            }], attribute: [{\n                type: Input\n            }], appearance: [{\n                type: Input\n            }], widgetHost: [{\n                type: ViewChild,\n                args: [AttributeWidgetDirective, { static: true }]\n            }] } });\n\nclass AttributesBuilderComponent {\n    set attributeValues(attributeValues) {\n        this._attributeValues = attributeValues;\n        this.applyValues();\n    }\n    get attributeValues() {\n        return this._attributeValues;\n    }\n    get attributesArray() {\n        return this.attributesForm.get('attributes');\n    }\n    constructor(widgetsService, wpm) {\n        this.widgetsService = widgetsService;\n        this.wpm = wpm;\n        this.attributes = [];\n        this.appearance = 'legacy';\n        this.attributesForm = new UntypedFormGroup({\n            attributes: new UntypedFormArray([])\n        });\n        this._attributeValues = [];\n        this.onTouched = () => { };\n    }\n    ngOnChanges(changes) {\n        if (changes.attributes && (!changes.attributes.previousValue || changes.attributes.previousValue !== changes.attributes.currentValue)) {\n            while (this.attributesArray.length !== 0) {\n                this.attributesArray.removeAt(0);\n            }\n            // @todo: Supports 2 levels of nesting currently (no recursion).\n            this.attributes.forEach(attr => {\n                this.attributesArray.push(new UntypedFormGroup({\n                    name: new UntypedFormControl(attr.name, Validators.required),\n                    type: new UntypedFormControl(attr.type, Validators.required),\n                    displayName: new UntypedFormControl(attr.label, Validators.required),\n                    value: new UntypedFormControl('', attr.required ? Validators.required : []),\n                    attributes: new UntypedFormArray(!attr.attributes ? [] : attr.attributes.map(attr2 => new UntypedFormGroup({\n                        name: new UntypedFormControl(attr2.name, Validators.required),\n                        type: new UntypedFormControl(attr2.type, Validators.required),\n                        displayName: new UntypedFormControl(attr2.label, Validators.required),\n                        value: new UntypedFormControl('', attr2.required ? Validators.required : [])\n                    })))\n                }));\n            });\n            this.applyValues();\n        }\n    }\n    writeValue(val) {\n        if (val) {\n            console.log(`write value: ${val}`);\n            this.attributesArray.setValue(val, { emitEvent: false });\n        }\n    }\n    registerOnChange(fn) {\n        this.attributesArray.valueChanges.subscribe(fn);\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n        if (isDisabled) {\n            this.attributesArray.disable();\n        }\n        else {\n            this.attributesArray.enable();\n        }\n    }\n    validate(c) {\n        return this.attributesForm.valid ? null : { invalidForm: { valid: false, message: \"attributes are invalid\" } };\n    }\n    discoverWidget(widget) {\n        // return this.widgetsService.get(widget);\n        return this.wpm.getPlugin(widget);\n    }\n    applyValues() {\n        this.attributesArray.controls.forEach((c, index) => {\n            const attrValue = this.attributeValues ? this.attributeValues.find(av => av.name === c.get('name').value) : undefined;\n            if (attrValue !== undefined) {\n                c.get('value').setValue(attrValue.value);\n                c.updateValueAndValidity();\n            }\n            c.get('attributes').controls.forEach(c => {\n                const attrValue = this.attributeValues && this.attributeValues[index] !== undefined ? this.attributeValues[index].attributes.find(av => av.name === c.get('name').value) : undefined;\n                if (attrValue !== undefined) {\n                    c.get('value').setValue(attrValue.value);\n                    c.updateValueAndValidity();\n                }\n            });\n        });\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributesBuilderComponent, deps: [{ token: WidgetsService }, { token: WidgetPluginManager }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.4\", type: AttributesBuilderComponent, selector: \"classifieds-ui-attributes-builder\", inputs: { attributes: \"attributes\", appearance: \"appearance\", attributeValues: \"attributeValues\" }, providers: [\n            WidgetsService,\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(() => AttributesBuilderComponent),\n                multi: true\n            },\n            {\n                provide: NG_VALIDATORS,\n                useExisting: forwardRef(() => AttributesBuilderComponent),\n                multi: true\n            },\n        ], usesOnChanges: true, ngImport: i0, template: \"<ng-container [formGroup]=\\\"attributesForm\\\">\\n  <div formArrayName=\\\"attributes\\\" class=\\\"attribute-fields\\\">\\n    <div *ngFor=\\\"let attribute of attributesArray.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\" class=\\\"attribute-field-container\\\">\\n      <classifieds-ui-attribute-widget [attribute]=\\\"attributes[i]\\\" [widget]=\\\"discoverWidget(attributes[i].widget)\\\" [appearance]=\\\"appearance\\\"></classifieds-ui-attribute-widget>\\n    </div>\\n  </div>\\n</ng-container>\\n<div *ngIf=\\\"attributes.length == 0\\\">\\n  <p>No attributes available for ad type. Click next to continue.</p>\\n</div>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }, { kind: \"directive\", type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"directive\", type: i1$1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1$1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1$1.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }, { kind: \"directive\", type: i1$1.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { kind: \"component\", type: AttributeWidgetComponent, selector: \"classifieds-ui-attribute-widget\", inputs: [\"widget\", \"attribute\", \"appearance\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributesBuilderComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'classifieds-ui-attributes-builder', providers: [\n                        WidgetsService,\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(() => AttributesBuilderComponent),\n                            multi: true\n                        },\n                        {\n                            provide: NG_VALIDATORS,\n                            useExisting: forwardRef(() => AttributesBuilderComponent),\n                            multi: true\n                        },\n                    ], template: \"<ng-container [formGroup]=\\\"attributesForm\\\">\\n  <div formArrayName=\\\"attributes\\\" class=\\\"attribute-fields\\\">\\n    <div *ngFor=\\\"let attribute of attributesArray.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\" class=\\\"attribute-field-container\\\">\\n      <classifieds-ui-attribute-widget [attribute]=\\\"attributes[i]\\\" [widget]=\\\"discoverWidget(attributes[i].widget)\\\" [appearance]=\\\"appearance\\\"></classifieds-ui-attribute-widget>\\n    </div>\\n  </div>\\n</ng-container>\\n<div *ngIf=\\\"attributes.length == 0\\\">\\n  <p>No attributes available for ad type. Click next to continue.</p>\\n</div>\\n\" }]\n        }], ctorParameters: function () { return [{ type: WidgetsService }, { type: WidgetPluginManager }]; }, propDecorators: { attributes: [{\n                type: Input\n            }], appearance: [{\n                type: Input\n            }], attributeValues: [{\n                type: Input\n            }] } });\n\nclass TextWidgetComponent {\n    constructor(controlContainer) {\n        this.controlContainer = controlContainer;\n        this.appearance = \"legacy\";\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: TextWidgetComponent, deps: [{ token: i1$1.ControlContainer }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.4\", type: TextWidgetComponent, selector: \"classifieds-ui-text-widget\", inputs: { attribute: \"attribute\", appearance: \"appearance\" }, ngImport: i0, template: \"<ng-container [formGroup]=\\\"controlContainer.control\\\">\\n  <mat-form-field [appearance]=\\\"appearance\\\">\\n    <input matInput [placeholder]=\\\"attribute.label\\\" formControlName=\\\"value\\\">\\n  </mat-form-field>\\n</ng-container>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i1$1.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i1$1.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i1$1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1$1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1$1.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"component\", type: i2$1.MatLegacyFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { kind: \"directive\", type: i3$1.MatLegacyInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", exportAs: [\"matInput\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: TextWidgetComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'classifieds-ui-text-widget', template: \"<ng-container [formGroup]=\\\"controlContainer.control\\\">\\n  <mat-form-field [appearance]=\\\"appearance\\\">\\n    <input matInput [placeholder]=\\\"attribute.label\\\" formControlName=\\\"value\\\">\\n  </mat-form-field>\\n</ng-container>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i1$1.ControlContainer }]; }, propDecorators: { attribute: [{\n                type: Input\n            }], appearance: [{\n                type: Input\n            }] } });\n\nclass MinMaxWidgetComponent {\n    constructor(controlContainer) {\n        this.controlContainer = controlContainer;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: MinMaxWidgetComponent, deps: [{ token: i1$1.ControlContainer }], target: i0.ɵɵFactoryTarget.Component }); }\n    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"16.0.4\", type: MinMaxWidgetComponent, selector: \"classifieds-ui-min-max-widget\", inputs: { attribute: \"attribute\" }, ngImport: i0, template: \"<ng-container [formGroup]=\\\"controlContainer.control\\\">\\n  <label>{{ attribute.label }}</label>\\n  <div formArrayName=\\\"attributes\\\">\\n    <mat-form-field formGroupName=\\\"0\\\">\\n      <input matInput type=\\\"number\\\" [placeholder]=\\\"attribute.attributes[0].label\\\" formControlName=\\\"value\\\">\\n    </mat-form-field>\\n    <mat-form-field formGroupName=\\\"1\\\">\\n      <input matInput type=\\\"number\\\" [placeholder]=\\\"attribute.attributes[1].label\\\" formControlName=\\\"value\\\">\\n    </mat-form-field>\\n  </div>\\n</ng-container>\\n\", styles: [\"\"], dependencies: [{ kind: \"directive\", type: i1$1.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i1$1.NumberValueAccessor, selector: \"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]\" }, { kind: \"directive\", type: i1$1.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i1$1.NgControlStatusGroup, selector: \"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]\" }, { kind: \"directive\", type: i1$1.FormGroupDirective, selector: \"[formGroup]\", inputs: [\"formGroup\"], outputs: [\"ngSubmit\"], exportAs: [\"ngForm\"] }, { kind: \"directive\", type: i1$1.FormControlName, selector: \"[formControlName]\", inputs: [\"formControlName\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"] }, { kind: \"directive\", type: i1$1.FormGroupName, selector: \"[formGroupName]\", inputs: [\"formGroupName\"] }, { kind: \"directive\", type: i1$1.FormArrayName, selector: \"[formArrayName]\", inputs: [\"formArrayName\"] }, { kind: \"component\", type: i2$1.MatLegacyFormField, selector: \"mat-form-field\", inputs: [\"color\", \"appearance\", \"hideRequiredMarker\", \"hintLabel\", \"floatLabel\"], exportAs: [\"matFormField\"] }, { kind: \"directive\", type: i3$1.MatLegacyInput, selector: \"input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]\", exportAs: [\"matInput\"] }] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: MinMaxWidgetComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'classifieds-ui-min-max-widget', template: \"<ng-container [formGroup]=\\\"controlContainer.control\\\">\\n  <label>{{ attribute.label }}</label>\\n  <div formArrayName=\\\"attributes\\\">\\n    <mat-form-field formGroupName=\\\"0\\\">\\n      <input matInput type=\\\"number\\\" [placeholder]=\\\"attribute.attributes[0].label\\\" formControlName=\\\"value\\\">\\n    </mat-form-field>\\n    <mat-form-field formGroupName=\\\"1\\\">\\n      <input matInput type=\\\"number\\\" [placeholder]=\\\"attribute.attributes[1].label\\\" formControlName=\\\"value\\\">\\n    </mat-form-field>\\n  </div>\\n</ng-container>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i1$1.ControlContainer }]; }, propDecorators: { attribute: [{\n                type: Input\n            }] } });\n\nclass AttributeMatcherService {\n    getComputedValue(attr, attributes) {\n        const attribute = attributes && attributes.length > 0 && this.matchAttribute(attr, attributes);\n        if (attribute) {\n            return attribute.computedValue;\n        }\n        else {\n            return;\n        }\n    }\n    getValue(attr, attributes) {\n        const attribute = attributes && attributes.length > 0 && this.matchAttribute(attr, attributes);\n        if (attribute) {\n            return attribute.value;\n        }\n        else {\n            return;\n        }\n    }\n    matchAttribute(attr, attributes) {\n        const len = attributes.length;\n        for (let i = 0; i < len; i++) {\n            if (attributes[i].attributes && attributes[i].attributes.length > 0) {\n                const value = this.matchAttribute(attr, attributes[i].attributes);\n                if (value) {\n                    return attributes[i];\n                }\n                else {\n                    continue;\n                }\n            }\n            else if (attr === attributes[i].name) {\n                return attributes[i];\n            }\n            else {\n                continue;\n            }\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeMatcherService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeMatcherService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeMatcherService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }] });\n\nclass AttributePipe {\n    constructor(attributeMatcher) {\n        this.attributeMatcher = attributeMatcher;\n    }\n    transform(attributes, attr) {\n        const computedValue = this.attributeMatcher.getComputedValue(attr, attributes);\n        if (computedValue) {\n            return computedValue;\n        }\n        else {\n            return '';\n        }\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributePipe, deps: [{ token: AttributeMatcherService }], target: i0.ɵɵFactoryTarget.Pipe }); }\n    static { this.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributePipe, name: \"attribute\" }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributePipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'attribute'\n                }]\n        }], ctorParameters: function () { return [{ type: AttributeMatcherService }]; } });\n\nvar AttributeTypes;\n(function (AttributeTypes) {\n    AttributeTypes[AttributeTypes[\"Number\"] = 0] = \"Number\";\n    AttributeTypes[AttributeTypes[\"Text\"] = 1] = \"Text\";\n    AttributeTypes[AttributeTypes[\"Complex\"] = 2] = \"Complex\";\n    AttributeTypes[AttributeTypes[\"Float\"] = 3] = \"Float\";\n    AttributeTypes[AttributeTypes[\"Array\"] = 4] = \"Array\";\n    AttributeTypes[AttributeTypes[\"Bool\"] = 5] = \"Bool\";\n    AttributeTypes[AttributeTypes[\"Date\"] = 6] = \"Date\";\n})(AttributeTypes || (AttributeTypes = {}));\nclass AttributeWidget extends Plugin {\n    constructor(data) {\n        super(data);\n        if (data) {\n            this.name = this.id;\n            this.schema = data.schema ? new Attribute(data.schema) : undefined;\n            this.component = data.component;\n        }\n    }\n}\nclass Attribute {\n    constructor(data) {\n        this.attributes = [];\n        if (data) {\n            this.name = data.name;\n            this.widget = data.widget !== undefined ? data.widget : 'text';\n            this.type = data.type;\n            this.label = data.label;\n            this.required = data.required;\n            this.options = data.options;\n            if (data.attributes) {\n                this.attributes = data.attributes.map(a => new Attribute(a));\n            }\n        }\n    }\n}\nclass AttributeValue {\n    constructor(data) {\n        this.attributes = [];\n        if (data) {\n            this.name = data.name;\n            this.displayName = data.displayName;\n            this.type = data.type;\n            this.value = data.value;\n            this.intValue = data.intValue;\n            this.computedValue = data.computedValue;\n            if (data.attributes) {\n                if (Array.isArray(data.attributes)) {\n                    this.attributes = data.attributes.reduce((p, a) => (a._store === undefined || a._store) ? [...p, new AttributeValue(a)] : p, []);\n                }\n                else if (data.attributes._store === undefined || data.attributes._store) {\n                    this.attributes = [data.attributes];\n                }\n            }\n            if (data.value && typeof (data.value) === 'object') {\n                this.value = undefined;\n                this.type = AttributeTypes.Complex;\n                data.value.attributes.reduce((p, a) => (a._store === undefined || a._store) ? [...p, new AttributeValue(a)] : p, []);\n            }\n            else {\n                this.value = data.value;\n            }\n        }\n    }\n}\n\n// import { YmmSelectorComponent } from './widgets/ymm-selector/ymm-selector.component';\n// import { CitySelectorComponent } from './widgets/city-selector/city-selector.component';\nconst textFactory = () => {\n    const schema = new Attribute({\n        name: '',\n        type: AttributeTypes.Text,\n        label: '',\n        required: false,\n        widget: 'text',\n        options: {},\n        attributes: []\n    });\n    return new AttributeWidget({ id: 'text', name: 'text', title: 'Text', component: TextWidgetComponent, schema });\n};\nconst minmaxFactory = () => {\n    return new AttributeWidget({ id: 'minmax', name: 'minmax', title: 'MinMax', component: MinMaxWidgetComponent, schema: undefined });\n};\n/*export const ymmFactory = () => {\n  const schema = new Attribute({\n    name: '',\n    type: AttributeTypes.Complex,\n    label: '',\n    required: false,\n    widget: 'ymm_selector',\n    options: {},\n    attributes: [\n      new Attribute({\n        name: 'year',\n        type: AttributeTypes.Number,\n        label: 'Year',\n        required: false,\n        widget: '',\n        options: {},\n        attributes: []\n      }),\n      new Attribute({\n        name: 'make',\n        type: AttributeTypes.Text,\n        label: 'Make',\n        required: false,\n        widget: '',\n        options: {},\n        attributes: []\n      }),\n      new Attribute({\n        name: 'model',\n        type: AttributeTypes.Text,\n        label: 'Model',\n        required: false,\n        widget: '',\n        options: {},\n        attributes: []\n      })\n    ]\n  });\n  return new AttributeWidget({ name: 'ymm_selector', component: YmmSelectorComponent, schema });\n};*/\n/*export const cityFactory = () => {\n  const schema = new Attribute({\n    name: '',\n    type: AttributeTypes.Complex,\n    label: '',\n    required: false,\n    widget: 'city_selector',\n    options: {},\n    attributes: []\n  });\n  return new AttributeWidget({ name: 'city_selector', component: CitySelectorComponent, schema });\n};*/\n\nclass AttributesModule {\n    constructor(widgetPlugins, wpm) {\n        widgetPlugins.forEach(p => wpm.register(p));\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributesModule, deps: [{ token: ATTRIBUTE_WIDGET }, { token: WidgetPluginManager }], target: i0.ɵɵFactoryTarget.NgModule }); }\n    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributesModule, declarations: [AttributesBuilderComponent,\n            AttributeWidgetComponent,\n            AttributeWidgetDirective,\n            TextWidgetComponent,\n            MinMaxWidgetComponent,\n            AttributePipe\n            /*, YmmSelectorComponent, CitySelectorComponent*/\n        ], imports: [CommonModule, ReactiveFormsModule, MaterialModule, /*HttpClientModule,*/ HttpClientJsonpModule /*, CitiesModule */], exports: [AttributesBuilderComponent, AttributePipe, AttributeWidgetComponent] }); }\n    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributesModule, providers: [\n            {\n                provide: ATTRIBUTE_WIDGET,\n                useFactory: textFactory,\n                multi: true\n            },\n            {\n                provide: ATTRIBUTE_WIDGET,\n                useFactory: minmaxFactory,\n                multi: true\n            },\n            /*{\n              provide: ATTRIBUTE_WIDGET,\n              useFactory: attrFactories.ymmFactory,\n              multi: true\n            },\n            {\n              provide: ATTRIBUTE_WIDGET,\n              useFactory: attrFactories.cityFactory,\n              multi: true\n            }*/\n        ], imports: [CommonModule, ReactiveFormsModule, MaterialModule, /*HttpClientModule,*/ HttpClientJsonpModule /*, CitiesModule */] }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributesModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, ReactiveFormsModule, MaterialModule, /*HttpClientModule,*/ HttpClientJsonpModule /*, CitiesModule */],\n                    declarations: [\n                        AttributesBuilderComponent,\n                        AttributeWidgetComponent,\n                        AttributeWidgetDirective,\n                        TextWidgetComponent,\n                        MinMaxWidgetComponent,\n                        AttributePipe\n                        /*, YmmSelectorComponent, CitySelectorComponent*/\n                    ],\n                    exports: [AttributesBuilderComponent, AttributePipe, AttributeWidgetComponent],\n                    providers: [\n                        {\n                            provide: ATTRIBUTE_WIDGET,\n                            useFactory: textFactory,\n                            multi: true\n                        },\n                        {\n                            provide: ATTRIBUTE_WIDGET,\n                            useFactory: minmaxFactory,\n                            multi: true\n                        },\n                        /*{\n                          provide: ATTRIBUTE_WIDGET,\n                          useFactory: attrFactories.ymmFactory,\n                          multi: true\n                        },\n                        {\n                          provide: ATTRIBUTE_WIDGET,\n                          useFactory: attrFactories.cityFactory,\n                          multi: true\n                        }*/\n                    ]\n                }]\n        }], ctorParameters: function () { return [{ type: Array, decorators: [{\n                    type: Inject,\n                    args: [ATTRIBUTE_WIDGET]\n                }] }, { type: WidgetPluginManager }]; } });\n\nclass ValueComputerService {\n    constructor() { }\n    compute(attributes) {\n        const computedAttributes = [];\n        attributes.forEach(a => computedAttributes.push(this.computeAttribute(a)));\n        return computedAttributes;\n    }\n    computeAttribute(attribute) {\n        const computedValue = this.resolveComputedValue(attribute.value, attribute.type);\n        if (attribute.attributes && attribute.attributes.length > 0) {\n            return new AttributeValue({ ...attribute, computedValue, attributes: this.compute(attribute.attributes) });\n        }\n        else {\n            return new AttributeValue({ ...attribute, computedValue });\n        }\n    }\n    /**\n     * @todo: Support below strings.\n     * beds: 1.5\n     * beds: 1 1/2\n     * price: $1,000\n     * price: 1,000\n     * price $1,000,000.00\n     * baths: one\n     */\n    resolveComputedValue(value, type) {\n        let computedValue;\n        if (type === AttributeTypes.Number) {\n            computedValue = toNumber(value.trim());\n            if (computedValue && isNaN(computedValue)) {\n                computedValue = undefined;\n            }\n        }\n        else {\n            computedValue = value.trim();\n        }\n        return computedValue === undefined ? computedValue : `${computedValue}`;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ValueComputerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ValueComputerService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: ValueComputerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return []; } });\n\nclass AttributeSerializerService {\n    constructor(valueComputer) {\n        this.valueComputer = valueComputer;\n    }\n    serialize(obj, prop) {\n        const type = typeof (obj);\n        if (type !== 'object') {\n            return new AttributeValue({\n                name: prop,\n                type: type !== 'string' ? type !== 'boolean' ? AttributeTypes.Number : AttributeTypes.Bool : AttributeTypes.Text,\n                displayName: prop,\n                value: `${obj}`,\n                intValue: undefined,\n                computedValue: this.valueComputer.resolveComputedValue(`${obj}`, type !== 'string' ? type !== 'boolean' ? AttributeTypes.Number : AttributeTypes.Bool : AttributeTypes.Text),\n                attributes: []\n            });\n        }\n        else if (Array.isArray(obj) && (prop === 'attributes' || prop === 'settings')) {\n            return new AttributeValue({\n                name: prop,\n                type: AttributeTypes.Complex,\n                displayName: prop,\n                value: undefined,\n                intValue: undefined,\n                computedValue: undefined,\n                attributes: obj\n            });\n        }\n        else if (Array.isArray(obj)) {\n            const len = obj.length;\n            const attrValues = [];\n            for (let i = 0; i < len; i++) {\n                if (typeof (obj[i]) !== 'object') {\n                    // attrValues.push(this.serialize({ value: obj[i] }, `${i}`));\n                    attrValues.push(this.serialize(obj[i], `${i}`));\n                }\n                else {\n                    attrValues.push(this.serialize(obj[i], `${i}`));\n                }\n            }\n            return new AttributeValue({\n                name: prop,\n                type: AttributeTypes.Array,\n                displayName: prop,\n                value: undefined,\n                intValue: undefined,\n                computedValue: undefined,\n                attributes: attrValues\n            });\n        }\n        else if (obj instanceof Date) {\n            // store as string for now.\n            return new AttributeValue({\n                name: prop,\n                type: AttributeTypes.Date,\n                displayName: prop,\n                value: obj.toJSON(),\n                intValue: undefined,\n                computedValue: obj.toJSON(),\n                attributes: []\n            });\n        }\n        else {\n            const attrValues = [];\n            for (const p in obj) {\n                attrValues.push(this.serialize(obj[p], p));\n            }\n            return new AttributeValue({\n                name: prop,\n                type: AttributeTypes.Complex,\n                displayName: prop,\n                value: undefined,\n                intValue: undefined,\n                computedValue: undefined,\n                attributes: attrValues\n            });\n        }\n    }\n    deserializeAsObject(attrValues, ignoreAttributes = false) {\n        return this.deserialize(new AttributeValue({\n            name: 'root',\n            type: AttributeTypes.Complex,\n            displayName: 'root',\n            value: undefined,\n            computedValue: undefined,\n            intValue: 0,\n            attributes: attrValues\n        }), ignoreAttributes);\n    }\n    deserialize(attrValue, ignoreAttributes = false) {\n        let obj;\n        let len;\n        switch (attrValue.type) {\n            case AttributeTypes.Complex:\n                if (!ignoreAttributes && (attrValue.name === 'attributes' || attrValue.name === 'settings')) {\n                    obj = attrValue.attributes.map(a => new AttributeValue(a));\n                }\n                else {\n                    len = attrValue.attributes.length;\n                    for (let i = 0; i < len; i++) {\n                        obj = { ...obj, [attrValue.attributes[i].name]: this.deserialize(attrValue.attributes[i]) };\n                    }\n                }\n                break;\n            case AttributeTypes.Bool:\n                obj = attrValue.value !== undefined ? ['1', 'true', 'on'].findIndex(b => b === attrValue.value) > -1 : undefined;\n                break;\n            case AttributeTypes.Number:\n            case AttributeTypes.Float:\n                obj = attrValue.value !== undefined && attrValue.value !== '' && attrValue.value !== 'undefined' ? attrValue.value !== '0' ? toNumber(attrValue.value.trim()) : 0 : undefined;\n                break;\n            case AttributeTypes.Text:\n                obj = attrValue.value;\n                break;\n            case AttributeTypes.Array:\n                if (!ignoreAttributes && (attrValue.name === 'attributes' || attrValue.name === 'settings')) {\n                    obj = attrValue.attributes.map(a => new AttributeValue(a));\n                }\n                else {\n                    len = attrValue.attributes.length;\n                    obj = [];\n                    for (let i = 0; i < len; i++) {\n                        obj = [...obj, this.deserialize(attrValue.attributes[i])];\n                    }\n                }\n                break;\n            case AttributeTypes.Date:\n                obj = attrValue.value !== undefined && attrValue.value !== '' ? new Date(attrValue.value) : undefined;\n                break;\n            default:\n        }\n        return obj;\n    }\n    convertToGroup(setting) {\n        const fg = new UntypedFormGroup({\n            name: new UntypedFormControl(setting.name, Validators.required),\n            type: new UntypedFormControl(setting.type, Validators.required),\n            displayName: new UntypedFormControl(setting.displayName, Validators.required),\n            value: new UntypedFormControl(setting.value, Validators.required),\n            computedValue: new UntypedFormControl(setting.value, Validators.required),\n            attributes: new UntypedFormArray([])\n        });\n        if (setting.attributes && setting.attributes.length > 0) {\n            setting.attributes.forEach(s => {\n                fg.get('attributes').push(this.convertToGroup(s));\n            });\n        }\n        return fg;\n    }\n    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeSerializerService, deps: [{ token: ValueComputerService }], target: i0.ɵɵFactoryTarget.Injectable }); }\n    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeSerializerService, providedIn: 'root' }); }\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"16.0.4\", ngImport: i0, type: AttributeSerializerService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root'\n                }]\n        }], ctorParameters: function () { return [{ type: ValueComputerService }]; } });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ATTRIBUTE_WIDGET, Attribute, AttributeMatcherService, AttributePipe, AttributeSerializerService, AttributeTypes, AttributeValue, AttributeWidget, AttributeWidgetComponent, AttributesBuilderComponent, AttributesModule, ValueComputerService, WidgetPluginManager, WidgetsService };\n"],"names":["exports","__esModule","toClosest","toMoney","toClean","toNumber","toNumberString","regexpEscape","s","replace","value","_a","_b","_c","decimalMark","toString","regexpDecimalMark","n","trim","negative","match","getNumberRegexp","RegExp","NaN","Number","_d","thousandSeperator","_e","thousandSeparator","_f","maxPrecision","_g","minPrecision","console","error","Error","dotIndex","lastIndexOf","integer","slice","fraction","remainder","length","i","BigInt","rmLen","numZeros","thousandSeparatorRegexp","trimRegexp","_h","symbol","_j","symbolBehind","_k","useParens","isNaN","Infinity","arguments","roundTo","Math","round","isInteger","toFixed","i0","InjectionToken","Injectable","Inject","Directive","Component","Input","ViewChild","forwardRef","Pipe","NgModule","i3","CommonModule","HttpClientJsonpModule","i1$1","UntypedFormGroup","UntypedFormArray","UntypedFormControl","Validators","NG_VALUE_ACCESSOR","NG_VALIDATORS","ReactiveFormsModule","MaterialModule","of","i1","BasePluginManager","PluginDef","Plugin","i2","i2$1","i3$1","AttributeWidgetComponent_ng_template_1_Template","rf","ctx","AttributesBuilderComponent_div_2_Template","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","i_r3","index","ctx_r0","ɵɵnextContext","ɵɵpropertyInterpolate","ɵɵadvance","ɵɵproperty","attributes","discoverWidget","widget","appearance","AttributesBuilderComponent_div_3_Template","ɵɵtext","ATTRIBUTE_WIDGET","WidgetsService","constructor","widgets","get","find","w","name","_","ɵfac","WidgetsService_Factory","t","ɵɵinject","_2","ɵprov","ɵɵdefineInjectable","token","factory","ngDevMode","ɵsetClassMetadata","type","Array","decorators","args","WidgetPluginManager","pcm","moduleLoader","pluginDef","WidgetPluginManager_Factory","PluginConfigurationManager","ModuleLoaderService","providedIn","AttributeWidgetDirective","viewContainerRef","AttributeWidgetDirective_Factory","ɵɵdirectiveInject","ViewContainerRef","ɵdir","ɵɵdefineDirective","selectors","selector","AttributeWidgetComponent","componentFactoryResolver","controlContainer","ngOnInit","subscribe","componentFactory","resolveComponentFactory","component","widgetHost","clear","componentRef","createComponent","instance","attribute","AttributeWidgetComponent_Factory","ComponentFactoryResolver","ControlContainer","ɵcmp","ɵɵdefineComponent","viewQuery","AttributeWidgetComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","inputs","decls","vars","consts","template","AttributeWidgetComponent_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","control","dependencies","NgControlStatusGroup","FormGroupDirective","static","AttributesBuilderComponent","attributeValues","_attributeValues","applyValues","attributesArray","attributesForm","widgetsService","wpm","onTouched","ngOnChanges","changes","previousValue","currentValue","removeAt","forEach","attr","push","required","displayName","label","map","attr2","writeValue","val","log","setValue","emitEvent","registerOnChange","fn","valueChanges","registerOnTouched","setDisabledState","isDisabled","disable","enable","validate","c","valid","invalidForm","message","getPlugin","controls","attrValue","av","undefined","updateValueAndValidity","AttributesBuilderComponent_Factory","features","ɵɵProvidersFeature","provide","useExisting","multi","ɵɵNgOnChangesFeature","AttributesBuilderComponent_Template","NgForOf","NgIf","FormGroupName","FormArrayName","providers","TextWidgetComponent","TextWidgetComponent_Factory","TextWidgetComponent_Template","DefaultValueAccessor","NgControlStatus","FormControlName","MatLegacyFormField","MatLegacyInput","MinMaxWidgetComponent","MinMaxWidgetComponent_Factory","MinMaxWidgetComponent_Template","ɵɵtextInterpolate","NumberValueAccessor","AttributeMatcherService","getComputedValue","matchAttribute","computedValue","getValue","len","AttributeMatcherService_Factory","AttributePipe","attributeMatcher","transform","AttributePipe_Factory","ɵpipe","ɵɵdefinePipe","pure","AttributeTypes","AttributeWidget","data","id","schema","Attribute","options","a","AttributeValue","intValue","isArray","reduce","p","_store","Complex","textFactory","Text","title","minmaxFactory","AttributesModule","widgetPlugins","register","AttributesModule_Factory","ɵmod","ɵɵdefineNgModule","_3","ɵinj","ɵɵdefineInjector","useFactory","imports","declarations","ValueComputerService","compute","computedAttributes","computeAttribute","resolveComputedValue","ValueComputerService_Factory","AttributeSerializerService","valueComputer","serialize","obj","prop","Bool","attrValues","Date","toJSON","deserializeAsObject","ignoreAttributes","deserialize","findIndex","b","Float","convertToGroup","setting","fg","AttributeSerializerService_Factory"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1]}